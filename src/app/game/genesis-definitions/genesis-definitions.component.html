<div class="ui-g">
    <div class="ui-g-12">
        <div class="card">
            <h1>Definitions</h1>     
            <div *ngIf="!modules || !modules.length">
                Please create a module first.
            </div>
            <div *ngIf="modules && modules.length" class="ui-g">
                    <div class="ui-g-2">
                        <p-dropdown [options]="modules"  [(ngModel)]="selectedModule" (onChange)="moduleChanged()"></p-dropdown>
                    </div>
                    <div class="ui-g-2">
                        <p-dropdown [options]="moduleDefinitions"  [(ngModel)]="selectedDefinition" (onChange)="definitionChanged()" *ngIf="moduleDefinitions"></p-dropdown>
                    </div>
                    <div class="ui-g-2">
                         <button pButton type="button" class='green-btn' (click)="createEntity(selectedNode)" label="Create entity" [disabled]="!selectedNode"></button>
                    </div>
                    <div class="ui-g-2">
                        <button pButton type="button" class='green-btn' (click)="createSheet(selectedNode)" label="Create sheet" [disabled]="!selectedNode"></button>
                   </div>
                    <div class="ui-g-2">
                         <button pButton type="button" class='green-btn' (click)="showEdit()" label="Create root definition" ></button>
                    </div>
                    <div class="ui-g-2">
                        <button pButton type="button" class='green-btn' (click)="showEdit(null, selectedNode)" label="Edit" [disabled]="!selectedNode" ></button>
                    </div>
                    <div class="ui-g-2">
                        <button pButton type="button" class='green-btn' (click)="showEdit(selectedNode)" label="Add child definition" [disabled]="!selectedNode" ></button>
                    </div>                    
                    <div class="ui-g-2">
                        <button pButton type="button" class='red-btn' (click)="deleteNode(selectedNode)" label="Delete" [disabled]="!selectedNode"></button>
                    </div>
                    <div class="ui-g-12">
                        <p-tree [value]="definitions" selectionMode="single" [(selection)]="selectedNode" (onNodeSelect)="nodeSelect($event)" (onNodeExpand)="loadNode($event)"></p-tree>
                    </div>
            </div>
        </div>

        <app-genesis-definitions-chart *ngIf="selectedDefinition" [realmDefinitions]="realmDefinitions" [definition]="selectedDefinition" (onDefinitionClick)="onDefinitionClick($event)"></app-genesis-definitions-chart>

        <div class="ui-g-12" *ngIf="!createVisible">
            <div class="card">
                <p-panel header="Quick Help" [toggleable]="true" [collapsed]="true">
                    D
                </p-panel>
            </div>
        </div>
    </div>
</div>